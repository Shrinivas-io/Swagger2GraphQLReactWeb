(window["webpackJsonpswagger-to-graphql-web"]=window["webpackJsonpswagger-to-graphql-web"]||[]).push([[0],{149:function(e,t,n){var a={".":58,"./":58,"./GraphQLLanguageService":109,"./GraphQLLanguageService.js":109,"./GraphQLLanguageService.js.flow":286,"./autocompleteUtils":82,"./autocompleteUtils.js":82,"./autocompleteUtils.js.flow":287,"./getAutocompleteSuggestions":69,"./getAutocompleteSuggestions.js":69,"./getAutocompleteSuggestions.js.flow":288,"./getDefinition":83,"./getDefinition.js":83,"./getDefinition.js.flow":289,"./getDiagnostics":85,"./getDiagnostics.js":85,"./getDiagnostics.js.flow":290,"./getHoverInformation":86,"./getHoverInformation.js":86,"./getHoverInformation.js.flow":291,"./getOutline":108,"./getOutline.js":108,"./getOutline.js.flow":292,"./index":58,"./index.js":58,"./index.js.flow":293};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=149},203:function(e,t,n){e.exports=n(387)},208:function(e,t,n){},356:function(e,t){},363:function(e,t){},365:function(e,t){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),o=n(91),c=n.n(o),i=(n(208),n(36)),s=n.n(i),u=n(76),l=n(174),p=n(81),f=n(57),h=n.n(f),m=n(97),g=n(199),d=n.n(g),b=n(200),w=n.n(b),j=n(201),y=n(202),v=n(118);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t,n){return e?"json"===t?{headers:S({"Content-Type":"application/json"},n),body:JSON.stringify(e)}:{headers:n,body:new URLSearchParams(e)}:{headers:S({accept:"application/json","content-type":"application/json",authorization:"Basic VV9QMlBTUl9VUzA4OlNwYXJrMTEx"},n)}}function x(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(s.a.mark(function e(t){var n,a,r,o,c,i,u,l,p,f,h,m,g;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requestOptions,a=n.method,r=n.body,o=n.baseUrl,c=n.path,i=n.query,u=n.headers,l=n.bodyType,p=i?"?".concat(new URLSearchParams(i)):"",f="".concat(o).concat(c).concat(p),h=E(r,l,u),!f.includes("dwmgate")){e.next=8;break}return e.next=7,fetch("http://dwmgate.wal-mart.com/sap(bD1lbiZjPTEwMA==)/bc/bsp/sap/zgw_openapi/openapi.json?$top=1",S({method:a,headers:{accept:"application/json","content-type":"application/json","odata.metadata":"none","x-csrf-token":"fetch"}},h,{credentials:"include"}));case 7:e.sent;case 8:return e.next=10,fetch(f,S({method:a,headers:{accept:"application/json","content-type":"application/json","odata.metadata":"none"}},h,{credentials:"include"}));case 10:return m=e.sent,e.next=13,m.text();case 13:if((g=e.sent).includes("openapi")||(g=(g=g.replace("results","value")).slice(5,-1)),!m.ok){e.next=23;break}return e.prev=16,e.abrupt("return",JSON.parse(g));case 20:return e.prev=20,e.t0=e.catch(16),e.abrupt("return",g);case 23:throw new Error("Response: ".concat(m.status," - ").concat(g));case 24:case"end":return e.stop()}},e,null,[[16,20]])}))).apply(this,arguments)}var P=function(){var e=Object(u.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({context:{},requestOptions:{method:"get",baseUrl:t,path:"",bodyType:"json"}});case 2:return n=e.sent,delete(a="string"===typeof n?Object(v.safeLoad)(n):n).paths["/$batch"],e.abrupt("return",Object(y.createSchema)({swaggerSchema:a,callBackend:x}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),T=(n(385),n(386),n(66));function D(){var e=Object(l.a)(['\n    # To run the query: click the run button above\n    # To edit the query: use the explorer on the left or edit the text below\n    # To toggle autocomplete: press ctrl + space or cmd + space\n    \n    query PetInfo {\n      findPetsByStatus(status: "sold") {\n        id\n        name\n        category {\n          name\n        }\n        tags {\n          name\n        }\n      }\n    }\n  ']);return D=function(){return e},e}T.a.initialize("UA-148987688-1",{debug:"localhost"===window.location.hostname});var q="http://dwmgate.wal-mart.com/sap(bD1lbiZjPTEwMA==)/bc/bsp/sap/zgw_openapi/openapi.json?service=ZSRM_GW_SC_TSG_SRV",U=function(e){var t=e.onChangeSchema,n=Object(a.useState)("loading"),o=Object(p.a)(n,2),c=o[0],i=o[1],s=Object(a.useRef)(null),u=Object(a.useCallback)(function(e){return P(e).then(function(n){T.a.event({category:"Schema loading",action:"Load success",label:e===q?"default schema":"custom schema"}),i("initial"),t(n)},function(t){T.a.event({category:"Schema loading",action:"Load fail",label:e===q?"default schema":"custom schema"}),i(t)})},[i,t]);return Object(a.useEffect)(function(){u(q)},[u]),r.a.createElement("form",{className:"changeSchemaForm",onSubmitCapture:function(e){e.preventDefault(),i("loading");var t=e.currentTarget.url.value;u(t)}},r.a.createElement("input",{name:"url",className:"urlInput",placeholder:"Paste a swagger/openapi url here...",defaultValue:q}),r.a.createElement("input",{type:"submit",hidden:!0,ref:s}),r.a.createElement(f.ToolbarButton,{onClick:function(){s.current&&s.current.click()},title:"Fetches the Swagger/OpenAPI schema and converts it to GraphQL",label:"loading"===c?"Update schema...":"Update schema"}),c instanceof Error&&r.a.createElement("span",{className:"changeSchemaFormError"},"Error: ".concat(c.message)))},L=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(w()(D())),i=Object(p.a)(c,2),l=i[0],g=i[1],b=Object(a.useRef)(),j=Object(a.useState)(!0),y=Object(p.a)(j,2),v=y[0],O=y[1];return r.a.createElement("div",{className:"graphiql-container"},r.a.createElement(d.a,{schema:n,query:l,onEdit:g,onRunOperation:function(e){return b.current.handleRunQuery(e)},explorerIsOpen:v,onToggleExplorer:function(){return O(!v)}}),r.a.createElement(h.a,{ref:b,schema:n,query:l,onEditQuery:g,fetcher:function(){var e=Object(u.a)(s.a.mark(function e(t){var a,r,o,c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.query,r=t.variables,o=t.operationName,!n){e.next=15;break}return e.prev=2,e.next=5,Object(m.a)({schema:n,source:a,variableValues:r,operationName:o});case 5:return c=e.sent,i=c.errors&&c.errors.length,T.a.event({category:"query",action:"execution success",label:i?"has errors":"no errors"}),e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(2),T.a.event({category:"query",action:"execution failed"}),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(h.a.Toolbar,null,r.a.createElement(U,{onChangeSchema:o}),r.a.createElement(f.ToolbarButton,{onClick:function(){b.current.handlePrettifyQuery()},title:"Prettify Query (Shift-Ctrl-P)",label:"Prettify"}),r.a.createElement(f.ToolbarButton,{onClick:function(){b.current.handleToggleHistory()},title:"Show History",label:"History"}),r.a.createElement(h.a.Button,{onClick:function(){return O(!v)},label:"Explorer",title:"Toggle Explorer"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[203,1,2]]]);
//# sourceMappingURL=main.86d09ae0.chunk.js.map